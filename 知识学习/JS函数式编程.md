# 函数式编程基本知识
## 为什么要学函数式编程？
在过去，他是命令式编程占据主流的。命令式编程是颗粒度最小的编程，它可以精准的控制每个元素的状态。  
但是颗粒度小既意味着自由度高，也意味着**复杂**。因为颗粒度高所以你如果想要实现一个简单常用的功能，你必须从头开始去构建。很多基础设施都没有办法复用。  
有一些函数是可以复用的，比如常见的**比大小**，**排序**，**过滤**等等。这些函数是可以复用的，但是在命令式编程中，这些函数都是**附属品**，而不是**核心**。
函数式编程是一种**声明式**的编程范式，它的核心是**函数**。函数式编程的核心是**函数**，而不是**状态**。  
OK，所以函数式编程本质上学的是什么？如若说思想的话，那就是**分层**。将一个核心函数分成一个个**附属函数**的过程。如若说实现的化，说的就是**附属函数的API语法**。
### 什么是柯里化？
如果说函数式编程中有两种操作是必不可少的那无疑就是柯里化（Currying）和函数组合（Compose），柯里化其实就是流水线上的加工站，函数组合就是我们的流水线，它由多个加工站组成。  
`f(a,b,c) → f(a)(b)(c)`  
我们尝试写一个 curry 版本的 add 函数
```
var add = function(x) {
return function(y) {
return x + y;
};
};
const increment = add(1);

increment(10); // 11
```
为什么这个单元函数很重要？还记得我们之前说过的，函数的返回值，有且只有一个嘛？
**如果我们想顺利的组装流水线**，**那我就必须保证我每个加工站的输出刚好能流向下个工作站的输入**。因此，在流水线上的加工站必须都是单元函数。

现在很好理解为什么柯里化配合函数组合有奇效了，因为柯里化处理的结果刚好就是单输入的。

## 函数式编程的相关语法

JavaScript中的函数式编程支持多种实用的函数，主要包括但不限于以下几类：

1. **映射（Map）**：对数组中的每个元素应用一个函数，并创建一个新数组，该数组包含应用函数后的结果。
    ```
    const numbers = [1, 2, 3, 4];
    const doubled = numbers.map(x => x * 2); // [2, 4, 6, 8]
    ```

2. **过滤（Filter）**：根据测试函数确定是否保留数组中的元素，创建一个包含通过测试的元素的新数组。
    ```
    const numbers = [1, 2, 3, 4];
    const evens = numbers.filter(x => x % 2 === 0); // [2, 4]
    ```

3. **归约（Reduce）**：将数组元素组合起来，通过reducer函数减少为单个值。
    ```
    const numbers = [1, 2, 3, 4];
    const sum = numbers.reduce((accumulator, current) => accumulator + current, 0); // 10
    ```

4. **每个（Every）**：检查数组中的所有元素是否都符合提供的测试函数。
    ```
    const numbers = [1, 2, 3, 4];
    const allPositive = numbers.every(x => x > 0); // true
    ```

5. **某个（Some）**：检查数组中是否至少有一个元素符合提供的测试函数。
    ```
    const numbers = [1, 2, 3, 4];
    const hasNegative = numbers.some(x => x < 0); // false
    ```

6. **查找（Find）**：返回数组中满足提供的测试函数的第一个元素的值。
    ```
    const numbers = [1, 2, 3, 4];
    const firstEven = numbers.find(x => x % 2 === 0); // 2
    ```

7. **查找索引（FindIndex）**：返回数组中满足提供的测试函数的第一个元素的索引。
    ```
    const numbers = [1, 2, 3, 4];
    const indexOFEven = numbers.findIndex(x => x % 2 === 0); // 1
    ```

8. **排序（Sort）**：对数组的元素进行排序，并返回排序后的数组。
    ```
    const numbers = [4, 2, 3, 1];
    numbers.sort((a, b) => a - b); // [1, 2, 3, 4]
    ```

9. **切片（Slice）**：返回数组的一部分，不修改原数组。
    ```
    const numbers = [1, 2, 3, 4];
    const middleTwo = numbers.slice(1, 3); // [2, 3]
    ```

这些函数是函数式编程在JavaScript中的基本工具，它们提供了一种声明式和不可变的编程范式，有助于写出更清晰、更易于维护的代码。


